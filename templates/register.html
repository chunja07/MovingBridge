{% extends "base.html" %}

{% block title %}íšŒì›ê°€ì… - ë¬´ë¹™ë¸Œë¦¿ì§€{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header text-center">
                    <h3 class="mb-0">ğŸ” íšŒì›ê°€ì…</h3>
                    <p class="text-muted mb-0">ë¬´ë¹™ë¸Œë¦¿ì§€ ì»¤ë®¤ë‹ˆí‹°ì— ì°¸ì—¬í•˜ì„¸ìš”</p>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="mb-3">
                            <label for="username" class="form-label">ì‚¬ìš©ìëª…</label>
                            <input type="text" class="form-control" id="username" name="username" 
                                   required minlength="3" placeholder="3ê¸€ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”">
                            <div class="form-text">í•œê¸€, ì˜ë¬¸, ìˆ«ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">ë¹„ë°€ë²ˆí˜¸</label>
                            <input type="password" class="form-control" id="password" name="password" 
                                   required minlength="8" placeholder="8ê¸€ì ì´ìƒ, ì˜ë¬¸ì+ìˆ«ì+íŠ¹ìˆ˜ë¬¸ì í¬í•¨">
                            <div class="form-text">
                                ë¹„ë°€ë²ˆí˜¸ëŠ” 8ê¸€ì ì´ìƒì´ë©°, ì˜ë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì(!@#$%^&*(),.?":{}|<>)ë¥¼ ê°ê° ìµœì†Œ 1ê°œì”© í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="confirm_password" class="form-label">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                            <input type="password" class="form-control" id="confirm_password" name="confirm_password" 
                                   required placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”">
                        </div>
                        <div class="d-grid">
                            <button type="submit" class="btn btn-success">íšŒì›ê°€ì…</button>
                        </div>
                    </form>
                </div>
                <div class="card-footer text-center">
                    <p class="mb-0">ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? <a href="{{ url_for('login') }}">ë¡œê·¸ì¸í•˜ê¸°</a></p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Password validation
function validatePassword(password) {
    const minLength = password.length >= 8;
    const hasLetter = /[a-zA-Z]/.test(password);
    const hasNumber = /\d/.test(password);
    const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);
    
    return minLength && hasLetter && hasNumber && hasSpecial;
}

// Real-time password validation
document.getElementById('password').addEventListener('input', function() {
    const password = this.value;
    const isValid = validatePassword(password);
    
    if (password.length > 0 && !isValid) {
        this.setCustomValidity('ë¹„ë°€ë²ˆí˜¸ëŠ” 8ê¸€ì ì´ìƒì´ë©°, ì˜ë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ ê°ê° í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.');
    } else {
        this.setCustomValidity('');
    }
});

// Password confirmation validation
document.getElementById('confirm_password').addEventListener('input', function() {
    var password = document.getElementById('password').value;
    var confirmPassword = this.value;
    
    if (password !== confirmPassword) {
        this.setCustomValidity('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
    } else {
        this.setCustomValidity('');
    }
});
</script>
{% endblock %}